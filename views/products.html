
    
<div ng-controller="ProductsController">
    <h1>Gestisci i dati dell'azienda</h1>
    <h2>Prodotti</h2>
    <!-- Button Insert trigger modal -->
    <button type="button" class="btn btn-default btn-lg" data-toggle="modal" data-target="#insertProduct" ng-click="beginInsertProduct()">
        Nuovo prodotto
    </button>
    <!--Tabella Prodotti-->
    <table class="table">
        <thead>
            <tr>
                <th></th>
                <th>Nome</th>
                <th>Tempo di deposito</th>
                <th>Produzione massima giornaliera</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="product in products">
                <td>
                    <!--Bottone modifica-->
                    <button ng-click="startUpdateProduct(product)" type="button"
                            class="btn btn-default" data-toggle="modal" data-target="#updateProduct"
                            title="Modifica">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    </button>
                    <!--Bottone cancella-->
                    <button ng-click="startDeleteProduct(product)" class="btn btn-default"
                            data-toggle="tooltip" title="Cancella">
                        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                    </button>
                </td>
                <td>{{product.name}}</td>
                <td>{{product.timeDeposit}}</td>
                <td>{{product.maxDailyProduction}}</td>
            </tr>
        </tbody>
    </table>

    <!--Modal Update-->
    <div class="modal fade" id="updateProduct" tabindex="-1" role="dialog" aria-labelledby="updateProductLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button"
                            class="close"
                            data-dismiss="modal"
                            aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title" id="updateProductLabel">Modifica</h4>
                </div>
                <div class="modal-body">
                    <form ng-submit=" updateProductForm.$valid && updateProduct()"
                          name="updateProductForm"
                          novalidate>
                        <!--Input nome-->
                        <div class="form-group"
                             ng-class="{'has-success has-feedback': updateProductForm.input1.$valid}">
                            <label for="updateProductInput1">Nome</label>
                            <input class="form-control"
                                   name="input1"
                                   id="updateProductInput1"
                                   ng-model="productName"
                                   required>
                            <span class="glyphicon glyphicon-ok form-control-feedback"
                                  ng-show="updateProductForm.input1.$valid"></span>
                        </div>
                        <!--Input tempo di deposito-->
                        <div class="form-group"
                             ng-class="{'has-success has-feedback': updateProductForm.input2.$valid}">
                            <label for="updateProductInput2">Tempo di deposito</label>
                            <input class="form-control"
                                   name="input2"
                                   id="updateProductInput2"
                                   ng-model="timeDeposit"
                                   type="number"
                                   required>
                            <span class="glyphicon glyphicon-ok form-control-feedback"
                                  ng-show="updateProductForm.input2.$valid"></span>
                        </div>
                        <!--Input produzione massima giornaliera-->
                        <div class="form-group"
                             ng-class="{'has-success has-feedback': updateProductForm.input3.$valid}">
                            <label for="updateProductInput3">Produzione massima giornaliera</label>
                            <input class="form-control"
                                   name="input3"
                                   id="updateProductInput3"
                                   ng-model="maxDailyProduction"
                                   type="number"
                                   required>
                            <span class="glyphicon glyphicon-ok form-control-feedback"
                                  ng-show="updateProductForm.input3.$valid"></span>
                        </div>
                        <button type="submit"
                                class="btn btn-default">
                            Modifica
                        </button>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Chiudi</button>
                </div>
            </div>
        </div>
    </div>



    <!-- Modal Insert-->
    <div class="modal fade" id="insertProduct" tabindex="-1" role="dialog" aria-labelledby="insertProductLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button"
                            class="close"
                            data-dismiss="modal"
                            aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title"
                        id="insertProductLabel">
                        Inserisci un nuovo prodotto
                    </h4>
                </div>
                <div class="modal-body">
                    <form ng-submit="insertProductForm.$valid && addProduct()"
                          class="formInsert"
                          name="insertProductForm"
                          novalidate>
                        <!--Input nome-->
                        <div class="form-group"
                             ng-class="{'has-success has-feedback': insertProductForm.input1.$valid}">
                            <label for="productInput1">Nome</label>
                            <input class="form-control"
                                   name="input1"
                                   id="productInput1"
                                   ng-model="productName"
                                   required>
                            <span class="glyphicon glyphicon-ok form-control-feedback"
                                  ng-show="insertProductForm.input1.$valid"></span>
                        </div>
                        <!--Input tempo di deposito-->
                        <div class="form-group"
                             ng-class="{'has-success has-feedback': insertProductForm.input2.$valid}">
                            <label for="productInput2">Tempo di deposito</label>
                            <input type="number"
                                   class="form-control"
                                   name="input2"
                                   id="productInput2"
                                   ng-model="timeDeposit"
                                   required>
                            <span class="glyphicon glyphicon-ok form-control-feedback"
                                  ng-show="insertProductForm.input2.$valid"></span>

                        </div>
                        <!--Input produzione massima giornaliera-->
                        <div class="form-group"
                             ng-class="{'has-success has-feedback': insertProductForm.input3.$valid}">
                            <label for="productInput3">Produzione massima giornaliera</label>
                            <input type="number"
                                   class="form-control"
                                   name="input3"
                                   id="productInput3"
                                   ng-model="maxDailyProduction"
                                   required>
                            <span class="glyphicon glyphicon-ok form-control-feedback"
                                  ng-show="insertProductForm.input3.$valid"></span>
                        </div>
                        <button ng-click="focusInsertProduct()"
                                type="submit"
                                class="btn btn-default">
                            Crea
                        </button>
                    </form>
                    <!-- <div id="successInsert" class="alert alert-success" role="alert" >
                         Record Inserito Corretamente
                     </div>-->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Chiudi</button>
                </div>
            </div>
        </div>
    </div>

    <!--Modal Delete-->
    <div class="modal fade" id="deleteProduct" tabindex="-1" role="dialog" aria-labelledby="deleteProductLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button"
                            class="close"
                            data-dismiss="modal"
                            aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title"
                        id="deleteProductLabel">
                        Cancella
                    </h4>
                </div>
                <div class="modal-body">
                    <div class="alert alert-warning" role="alert">
                        Vuoi rimuovere il prodotto <b>{{products[indexDelete].name}}</b>?
                    </div>             
                </div>
                <div class="modal-footer">
                    <button ng-click="deleteProduct()" type="button" class="btn btn-default" data-dismiss="modal">Sì</button>
                    <button id="noDeleteButton" type="button" class="btn btn-default" data-dismiss="modal">No</button>
                </div>
            </div>
        </div>
    </div>

</div>